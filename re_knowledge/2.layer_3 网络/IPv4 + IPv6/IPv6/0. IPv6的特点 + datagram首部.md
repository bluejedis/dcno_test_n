<div style="float: left; width: 64%; padding: 1%;">

### 特点
<ul>

#### 解决IPv4地址耗尽'methods
<ul>

目前广泛使用的IPv4是在20世纪70年代设计的，互联网经过几十年的飞速发展，到2011年2月，**IPv4地址**已经**耗尽**.

1）采用无类别编址CIDR，使IP地址的分配更加合理。
2）采用网络地址转换（NAT）方法以节省全球IP地址。
3）采用具有更大地址空间的新版本的IPv6。前两种方法只是延长了IPv4使用寿命，only IPv6 <u>从根本上</u> 解决IP地址耗尽问题
</ul>

#### IPv6特点
> **pro：IPv6的特点（2023）**
<ul>


- 更大的地址空间
    - IPv6 将地址从 IPv4的32位增大到128位
    - IPv6的地址空间是IPv4的 $2^{128-32}=2^{96}$ 倍
      - 地址绝对够用

- 扩展的地址层次结构
    - 因为地址空间很大，thus 可以划分为更多的层次

- 灵活的首部格式
    - IPv6定义了许多可选的扩展首部，不仅可提供比IPv4更多的功能，而且能提高路由器的处理效率
    - 路由器对扩展首部不进行处理

- 改进的选项
    - IPv6 首部长度是固定的，其选项放在有效载荷中，选项是灵活可变的
    - IPv4所规定的选项是固定不变的，其选项放在首部的可变部分

- 允许协议继续扩充
    - IPv6允许不断扩充功能，而IPv4的功能是固定不变的

- 支持**即插即用**（即自动配置）
    - IPv6不需要使用DHCP

- 支持**资源**的**预分配**
    - IPv6支持实时音/视频等要求保证一定带宽和时延的应用

- IPv6 only源主机才能分片
    - 是端到端的，不允许类似IPv4传输路径中的路由分片

- IPv6**HEADER**长度是固定的
    - IPv6首部长度是固定的40B
    - IPv4首部长度是可变的（必须是4B的整数倍）

- 增大安全性
    - 身份鉴别&保密功能是IPv6的扩展首部
</ul>

#### IPv6兼容性
<ul>

与IPv4不兼容
与所有其他的互联网协议兼容
- 包括TCP、UDP、ICMP、IGMP和DNS等
- 只是在少数地方做了必要的修改（大部分是为了处理长地址）

---
</ul>

### IPv6数据报的基本首部
<ul>

#### 数据报组成
<ul>

- IPv6数据报由两部分组成：基本首部和有效载荷（也称净负荷）。
- 有效载荷由零个或多个扩展首部及其后面的数据部分构成。
</ul>

#### IPv6数据报的一般形式

<ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/f698b67646d9930c64da34e52dc45dad7d35022f8c9f2fdb596f320bf237c685.jpg)
图4.11具有多个可选扩展首部的IPv6数据报的一般形式
</ul>

#### 基本首部长度

<ul>

- IPv6基本首部的字段数减少到只有8个。
- 由于IPv6地址长度为128位，IPv6基本首部的长度增大到40B。
</ul>

#### 基本首部的格式

<ul>

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/03769dd7cc9b50a35c96a4fc7fbf8a9c5757c87a33f21ed45608a52f302efe1f.jpg)
图4.12IPv6数据报的基本首部的格式
</ul>

> **pro：IPv6基本首部字段的意义（2023）**

#### 基本首部字段含义

<ul>

1. **版本**
   - 占4位，指明协议的版本，对于IPv6该字段的值是6。
2. **通信量类**
   - 占8位，用来区分不同的IPv6数据报的类别或优先级。
3. **流标号**
   - 占20位，IPv6提出流的抽象概念。
   - 流是指互联网上从特定源点到特定终点的一系列数据报。
   - 所有属于同一个流的数据报都具有相同的流标号。
4. **有效载荷长度**
   - 占16位，指明IPv6数据报除基本首部以外的字节数。
   - 这个字段的最大值是65535（单位为字节）。
5. **下一个首部**
   - 占8位，相当于IPv4首部中的协议字段或可选字段。
   - 当IPv6没有扩展首部时，指明IPv6数据报所运载的数据是何种协议数据单元。
   - 当IPv6带有扩展首部时，标识后面第一个扩展首部的类型。
6. **跳数限制**
   - 占8位，类似于IPv4首部的TTL字段。
   - 源点在每个数据报发出时设定某个限制值（最大为255）。
   - 路由器每次转发时将其值减1，减为零时将该数据报丢弃。
7. **源地址和目的地址**
   - 占128位，是数据报的发送端/接收端的IP地址。
</ul>

</ul>

</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
