<div style="float: left; width: 64%; padding: 1%;">

### 以太网的MAC地址

<ul>

#### 基本概念

<ul>

- IEEE802标准规定：
  - **48**位全球地址
  - 固化在适配器的ROM中
  - 称为物理地址或MAC地址
  - 用于控制主机在网络上的数据通信

>pro：以太网MAC地址的长度（2013）  

</ul>

#### MAC地址特点

<ul>

- 格式：
  - 长6字节
  - 用12个十六进制数表示（由连字符或冒号分隔）
  - 如02-60-8c-e4-b1-21
  - 高24位为厂商代码
  - 低24位为厂商自行分配的适配器序列号

</ul>

#### MAC地址应用

<ul>

- 路由器接口：
  - 适配器上的MAC地址标志路由器的接口
  - 连接两个网络需要两个适配器和两个MAC地址

- 帧接收处理：
  - 适配器用硬件检查MAC帧中的目的地址
  - 发往本站的帧包括三种：
    1. 单播帧（一对一）：目的地址与本站MAC地址相同
    2. 广播帧（一对全体）：发送给本局域网上所有站点
    3. 多播帧（一对多）：发送给本局域网上一部分站点

</ul>

</ul>

### 以太网的<span style="color: pink;">MAC</span><span style="color: LightSkyBlue;">帧</span>  

<ul>

#### 格式标准

<ul>

- 两种标准：
  - DIX Ethernet V2标准（即以太网V2标准）
  - IEEE 802.3标准
- 这里介绍最常用的以太网V2的MAC帧格式

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/335c6fdb9bafd3bdfa0928452310b671659a80125d05ada1c9a171de77cb363b.jpg)  
图3.25以太网V2标准的MAC帧格式  

> pro: 以太网帧首部的内容、首部和尾部的长度（2010、2011）  

</ul>

#### 结构组成

<ul>

##### 前<span style="color: LightSkyBlue;">导码</span>

<ul>

- 8字节，分为两个字段：
  -  <span style="color: GreenYellow;">7</span>字节前<span style="color: LightSkyBlue;">同步</span>码：
     -  实现MAC帧的比特同步
  - **1**字节帧开始<span style="color: green;">定界</span>符：
    - 表示后面的信息是MAC帧

>attention:  

</ul>

##### 帧结束定界符说明

<ul>

- 以太网帧特点：
  - 不需要帧结束定界符
  - 帧之间必须有间隙
  - 接收方只需找到帧开始定界符即可确定同一帧的比特流

- 帧结束判定方法：
  - 基于曼彻斯特编码特性：
    - 每个码元中间有电压跳变
    - 发送完帧后电压不再变化
  - 定位过程：
    - 接收方检测到电压不变位置
    - 向前数4字节为FCS字段
    - 由此确定数据字段结束位置

>pro：以太网帧中目的地址和源地址的含义（2018）  

</ul>

##### 地址字段

<ul>

- 目的地址：
  - 6字节
  - 帧在局域网上的目的适配器的MAC地址
- 源地址：
  - 6字节
  - 传输帧到局域网上的源适配器的MAC地址

</ul>

##### 类型字段

<ul>

- 2字节
- 指出数据字段中的数据应交给哪个上层协议处理
- 如网络层的IP协议

> pro: 分析IP首部并判断其以太帧是否需要填充（2012）  

</ul>

##### 数据字段

<ul>

- 46~1500字节
- 承载上层的协议数据单元（如IP数据报）
- 特点：
  - 最大传输单元1500字节
  - IP数据报超过1500字节需分片
  - 最小长度46字节，不足需填充

>attention:  

46是怎么来的？由CSMA/CD可知以太网帧的最短帧长为64B，而MAC帧的首部和尾部的长度为18字节，所以数据字段最短为 $64-18=46$ 字节。  

</ul>

##### 检验码（FCS）

<ul>

- 4字节
- 特点：
  - 采用32位CRC码
  - 检验范围：目的地址段到数据字段
  - 不检验前导码

</ul>

</ul>

#### IEEE 802.3帧格式特点

<ul>

- 与以太网V2帧格式的区别：
  - 用长度域替代类型域
  - 指出数据域长度
- 两种机制并存原理：
  - IEEE 802.3数据段最大字节数1500
  - 长度段最大值1500
  - 1501到65535的值用于类型段标识符

</ul>

</ul>


</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
