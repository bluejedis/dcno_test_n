<div style="float: left; width: 64%; padding: 1%;">

###  <span style="color: GreenYellow;">滑动</span><span style="color: LightSkyBlue;">窗口</span> 流量控制  

<ul>

#### 基本概念

<ul>

- 滑动窗口流量控制是一种更高效的流量控制方法
- 窗口维护：
  - 发送方维持发送窗口：一组连续的允许发送帧的序号
  - 接收方维持接收窗口：一组连续的允许接收帧的序号
- 窗口作用：
  - 发送窗口表示在还未收到对方确认信息的情况下，发送方最多还能发送多少个顺和哪些顺
  - 接收窗口是为了控制可以接收哪些倾和不可以接收哪些顺

</ul>

#### 工作原理

<ul>

- 发送窗口工作原理：

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/248725a206d61268b973ecf8d7a386b827f85a708e4466f48aca92b0595310cb.jpg)  

- 接收窗口工作原理：

![](https://cdn-mineru.openxlab.org.cn/model-mineru/prod/9d828f694c1132f7e08e7c2789e1420a756d8816e676452e1fb324f88be8ccd3.jpg)  

</ul>

#### 操作过程

<ul>

- 发送方操作：
  - 每收到一个按序确认的确认帧，就将发送窗口向前滑动一个位置
  - 新的序号落入发送窗口，序号落入发送窗口内的数据帧可以继续发送
  - 当窗口内没有可以发送的帧时，发送方就停止发送
- 接收方操作：
  - 每收到一个序号落入接收窗口的数据顿，就充许将该帧收下
  - 将接收窗口向前滑动一个位置，并发回确认
  - 新的序号落入接收窗口，序号落入接收窗口内的数据倾即为准备接收的帧
  - 若收到的帧落在接收窗口之外，则一律丢弃

</ul>

#### 重要特性

<ul>

- 窗口滑动特性：
  - 只有接收窗口向前滑动（同时接收方发送了确认）时，发送窗口才有可能向前滑动

>pro：滑动窗口协议的窗口大小的关系（2019）  

- 窗口大小关系：
  - 停止-等待协议：发送窗口 $W_{\mathrm{T}}\!=\!1$ ，接收窗口 $W_{\mathbb{R}}\!=\!1$
  - 后退 $N$ 帧协议：发送窗口 $W_{\mathrm{T}}\!>\!1$ ，接收窗口 $W_{\mathbb{R}}\!=\!1$
  - 选择重传协议：发送窗口 $W_{\mathrm{T}}\!>\!1$ ，接收窗口 $W_{\mathbb{R}}\!>\!1$
  - 若采用 $n$ 比特对帧编号，则后两种滑动窗口协议还需满足 $W_{\mathrm{{T}}}+W_{\mathrm{{R}}}\leqslant2^{n}$
- 其他特性：
  - 当接收窗口的大小为1时，可保证帧的有序接收
  - 在数据链路层的滑动窗口协议中，窗口大小在传输过程中是固定的（与传输层不同）

</ul>

</ul>

</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
