<div style="float: left; width: 64%; padding: 1%;">
[TOC]

<br>

### <span style="color: lightgray;">第1章 计算机网络体系结构</span>

### <span style="color: gray;">概述

#### <span style="color: gray;">概念</span><span style="color: darkgray;">(iI</span>

* **核心考点**:
    * 计算机网络：`分散`、`自治`的计算机，通过`通信设备`和`线路`连接，用`软件`实现`资源共享`和`信息传递`。
    * `internet` vs `Internet` 的辨析。
* **形象记忆**:
    * **计算机网络 (小 internet)**: 想象一个小区内的几栋楼，每家都有电话（自治计算机），通过小区的电话交换机（通信设备）连起来，可以互相通话（信息传递）、互相借东西（资源共享）。这是一个`局域`的、`通用`的“互连网”。
    * **因特网 (大 Internet)**: 想象全世界的电话网。这是一个`全球最大`的、`特定`的互连网，大家都说“普通话”（TCP/IP协议）。

#### <span style="color: gray;">组成</span><span style="color: gray;">(3<span style="color: darkgray;">:组成 work 功能
* **核心考点**:
    * 三个角度看组成：`组成部分`、`工作方式`、`功能组成`。
* **形象记忆**:
    * **组成**部分角度 (零件视角):
        * 硬件：电脑、手机、路由器、网线 (看得见摸得着的东西)。
        * 软件：微信、浏览器 (安装在硬件上才能用的程序)。
        * 协议：交通规则 (大家都得遵守，不然就乱套了)。
    * **工作**方式角度 (用户和快递员视角):
        * **边缘部分**: 你和你的电脑、手机 (用户，享受服务)。
        * **核心..**: 大量的路由器、交换机 (快递公司和中转站，提供服务)。
    * **功能**组成角度 (功能模块视角):
        * **通信子网**: 负责送信的邮政系统，包括邮递员、运输车、分拣中心 (即物理层、链路层、网络层)。
        * **资源..**: 信的内容和收发信的人 (即应用层、表示层、会话层)。
---
#### <span style="color: gray;">功能</span><span style="color: gray;">(2<span style="color: darkgray;">:通信 共享

* **核心考点**:
    * 两大最基本功能：`数据通信` 和 `资源共享`。
    * 其他功能作为选择题选项出现。
* **形象记忆**:
    * **数据通信 (打电话)**: 最基本的功能，联络感情，传递消息。
    * **资源共享 (借东西)**:
        * 硬件共享：共享打印机。
        * 软件共享：共享付费软件。
        * 数据共享：共享数据库。
    * **分布式处理/负载均衡 (团队合作)**: 一项大工程，一个人干不完，分给团队里闲着的人一起干。
    * **提高可靠性 (备胎)**: 一台服务器挂了，另一台马上顶上。

---
#### 
#### 🧮**电路交换、** 报文 **..** <span style="color: green;">分组</span>**..**<span style="color: gray;">(count:<span style="color: darkgray;">3way'</span>交换delay

这是 **【绝对重点 & 计算题高发区】**。

* **核心考点**:
    * 三种交换方式的原理、优缺点对比。
    * 分组交换的“流水线”传输特性。
* **形象记忆**:
    * **电路交换 (修专线)**:
        * **过程**: 打电话 -> 占线 -> 通话 -> 挂机。
        * **特点**: **建立连接、独占资源**。就像修了一条你家到朋友家的专属管道，通话时别人不能用，哪怕你们不说话，管道也占着。
        * **优点**: 时延小 (因为是专线)，无失序。
        * **缺点**: 线路利用率低 (不说话也占线)，建立连接慢。
        ---
    * **报文.. (寄包裹)**:
        * **过程**: 把一整本书（报文）打包好，送到快递站，快递站**收下整个包裹**再发往下一个站。
        * **特点**: **存储-转发** (整个收下再转发)。
        * **优点**: 无需建连，线路利用率高。
        * **缺点**: 报文大小不限，对站点缓存要求高，时延大 (因为要等整个报文收完)。
    * **分组.. (把书拆成一页一页寄)**:
        * **过程**: 把一本书拆成一页一页（分组），每页写上地址和页码，分别寄出去。
        * **特点**: **存储-转发** (一小个分组收下就转发)。
        * **优点**: 兼具报文交换的优点，且时延更小，对缓存要求低。
        * **缺点**: 有额外开销 (每页都要写地址)，可能失序 (需要重组)。

---
* **【计算题模板】: 交换时延计算**
    > **问题**: 发送大小为 `M` 的数据，经过 `k` 段链路（即 `k-1` 个中间路由器），每段链路的发送速率为 `R`，传播时延为 `d`，求总时延。

    1.  **电路交换**:
        * **解题思路**: 总时延 = 连接建立时间 + 发送时延 + 传播时延。
        * **模板**: $T_{总} = t_{建连} + \frac{M}{R} + k \times d$
        * **注意**: 这里的发送时延是数据从源主机“推”上链路的时间，只算一次。传播时延是电磁波在所有链路上跑的时间。

    2.  **报文交换**:
        * **解题思路**: 总时延 = (发送时延 + 传播时延) * 链路段数。因为每一跳都要完整接收再转发。
        * **模板**: $T_{总} = k \times (\frac{M}{R} + d)$

    ---
    3.  **分组交换 (重点!)**:
        * **解题思路**: 采用“流水线”思想。总时延 = 第一个分组到终点的时间 + 剩下所有分组的发送时间。
        * **前置步骤**:
            * 计算每个分组大小: $P = P_{数据} + P_{头部}$
            * 计算分组数量: $N = \lceil \frac{M}{P_{数据}} \rceil$
        * **模板**:
            * **第一个分组到终点的时间**: $T_{首分组} = k \times (\frac{P}{R} + d)$ (它经历了k次发送和k次传播)
            * **剩下N-1个分组的发送时间**: $T_{剩余} = (N-1) \times \frac{P}{R}$ (当第一个分组到达最后一个路由器开始发送时，后面的分组也像流水线一样紧接着到达并发送)
            * **总时延**: $T_{总} = T_{首分组} + T_{剩余} = k \times (\frac{P}{R} + d) + (N-1) \times \frac{P}{R}$
            ---
        * **极简模板 (推荐)**: 总时延 = (源主机**发送**<span style="border-bottom: 2px solid black;">所有</span>分组的时间) + (<span style="border-bottom: 2px solid black;">最后一个</span>分组在链路上的<span style="border-bottom: 3px dotted black;">传播</span>时间)
            * $T_{总} = N \times \frac{P}{R} + \underline{(k-1) \times \frac{P}{R}} + k \times d$
            * 这个公式和上面的等价，但更好理解：$N \times \frac{P}{R}$是源主机把所有分组推上第一段链路的时间，之后最后一个分组还要经过 $k-1$ 个路由器，每个路由器都要花 $\frac{P}{R}$ 的时间转发它，最后它还要在 $k$ 段链路上传播。

---
#### 
#### **分类**<span style="color: gray;">(2type:<span style="color: darkgray;">PLMW 总星环网

* **核心考点**: 按范围、按拓扑结构分类。
* **形象记忆**:
    * **按分布范围**:
        * `PAN` (个人区域网): 你身上的蓝牙耳机、智能手表。
        * `LAN` (局域网): 一个网吧、一栋教学楼。
        * `MAN` (城域网): 一个城市的网络。
        * `WAN` (广域网): 跨越国家、大洲的网络。
    * **按拓扑结构**:
        * **总线型**: 一根主干道，所有车都在上面跑。**优点**: 省线；**缺点**: 主干道一断，全瘫痪。
        * **星型**: 一个中心交通枢纽，所有路都从这里发散。**优点**: 管理方便，一个分支坏了不影响其他；**缺点**: 中心枢纽一坏，全瘫痪。
            
            ---
        * **环形**: 一个环路，单向行驶。
        * **网状**: 盘丝洞，条条大路通罗马。**优点**: 可靠性高；**缺点**: 成本高，控制复杂。(广域网常用)

---
#### 🧮**性能指标**<span style="color: gray;">(211n<span style="color: darkgray;">:速宽吞延</span>1count<span style="color: darkgray;">:总时延

这是 **【绝对重点 & 计算题高发区】**。

* **核心考点**:
    * 速率、带宽、吞吐量的区分。
    * 时延的4个组成部分。
    * 时延带宽积、往返时延(RTT)的物理意义。
* **形象记忆**:
    * **速率 vs 带宽**:
        * **速率 (Rate)**: 你家水管此刻的流水速度 (e.g., 10Mb/s)。
        * **带宽 (Bandwidth)**: 你家水管设计的<span style="border: 1px solid black; padding: 5px; display: inline-block;">最大</span>流水速度，即水管的粗细 (e.g., 100Mb/s)。
    * **吞吐量 (Throughput)**: 实际单位时间内流过的总水量，受限于最细的那段水管（瓶颈）。
    * **时延 (Delay)**: 一滴水从水厂到你家的时间。
        * **发送时延 (传输..)**: 把一桶水(分组)全部倒进水管(链路)需要的时间。
        * **传播..**: 水滴在水管里“飞”的时间。
            
            ---
        * **处理..**: 水泵站(路由器)处理这桶水的时间。
        * **排队..**: 前面还有别人的水在排队，你得等着。
        ---
    * **时延带宽积**: `传播时延 × 带宽`。就是“水管的容积”，表示这条链路上能容纳多少比特。
    * **往返时延 (RTT)**: 你喊一声，听到回声的时间。包括来回的传播时延和对方的处理时间。

---
* **【计算题模板】: 时延计算**
    > **问题**: 计算发送一个长度为 `L` (bit) 的分组，在带宽为 `R` (b/s)，长度为 `D` (m)，传播速度为 `V` (m/s) 的链路上的总时延（不考虑处理和排队）。

    * **解题步骤**:
        1.  **计算发送时延**:
            * **公式**: $T_{发送} = \frac{分组长度 (L)}{信道带宽 (R)}$
            * **记忆**: “把货装上车的时间” = 货物大小 / 装车速度。
        2.  计算**传播..**:
            * **公式**: $T_{传播} = \frac{信道长度 (D)}{电磁波传播速率 (V)}$
            * **记忆**: “车在路上跑的时间” = 路程 / 速度。
            ---
        -  计算**总..**:
            * **公式**: $T_{总} = T_{发送} + T_{传播}$
        ---
    * **易错点**:
        * 单位换算！`1KB = 1024B`, `1MB = 1024KB`... 但速率中的 `k=10^3`, `M=10^6`...
        * 分清 `L` (数据量) 和 `R` (速率)，不要混淆。
        * 传播速度 `V` 在真空是光速($3 \times 10^8$ m/s)，在铜线或光纤中约为其 $2/3$。题目不给就按光速算。

---

### <span style="color: gray;">体系结构 参考模型</span>

#### <span style="color: gray;">分层结构</span><span style="color: darkgray;">(PDU:3

* **核心考点**:
    * 为什么要分层？(解耦、易于实现和维护)
    * 实体、协议、服务、接口的基本概念。
* **形象记忆**:
    * **为什么要分层?**: 想象寄快递的过程。你 (用户) -> 快递员上门收件 (应用层) -> 快递站打包分拣 (传输层) -> 跨城运输 (网络层) -> 本地派送 (链路层) -> 电话通知你取件 (物理层)。每一层只做自己的事，只和上下层打交道，让复杂问题变简单。
    * **PDU (协议数据单元)**: 每一层要处理的数据包。
        * 应用层 -> 报文 (Message)
        * 传输层 -> 报文段 (Segment, TCP) / 用户数据报 (Datagram, UDP)
            
            ---
        * 网络层 -> 分组 (Packet) / 数据报 (Datagram)
            
            ---
        * 数据链路层 -> 帧 (Frame)
        * 物理层 -> 比特流 (Bit)
            
            ---
        * **记忆口诀**: “**报**文**段**，**分**组**帧**，**比**特流” (抱文旦，分果珍，比特流)。

---
#### **协议、接口、服务**<span style="color: gray;">(-·|

* **核心考点**: 三者关系辨析。
* **形象记忆**:
    * **协议 (Protocol)**: `水平的`。两个对等的“官”之间沟通的语言和规则。比如，A国的邮政部长和B国的邮政部长开会，商讨国际邮件的格式、资费等，这就是协议。
        
        ---
    * **服务 (Service)**: `垂直的`。下层为上层提供功能。比如，整个邮政系统（下层）为寄信人（上层）提供“寄信”服务。上层是“客户”，下层是“服务提供商”。
    * **接口 (Interface/SAP)**: `服务访问点`。上层使用下层服务的“窗口”。比如，你要寄信，你得去邮局的窗口或者把信投进邮筒，这个窗口/邮筒就是接口。

---
#### 
#### 🌟**ISO/OSI**<span style="color: gray;">(7 <span style="color: lightgray;">多 上2 </span>**TCP/IP**(5 <span style="color: lightgray;">传输层2p上 

这是 **【本章核心，考点密集区】**。必须滚瓜烂熟。

* **核心考点**:
    * OSI七层模型和TCP/IP四层（或五层）模型各层的功能。
    * 两个模型的比较。
* **形象记忆 (五层模型)**:
    1.  **物理层 (Physical Layer)**:
        * **功能**: 传输比特流 `0101`。
        * **记忆**: **快递员**。他只管开车、走路，把包裹从A点送到B点，他不管包裹里是什么。涉及电压、接口标准等。
        * **设备**: 集线器 (Hub)、中继器。
    2.  **数据链路层 (Data Link Layer)**:
        * **功能**: 把比特流封装成**帧**，在**相邻节点间**可靠传输。
        * **记忆**: **同城快递分部**。负责一个城市内，从分拣中心到下一个分拣中心的运输。使用MAC地址（门牌号），进行差错控制。
        * **设备**: 网桥、交换机 (Switch)。
    3.  **网络层 (Network Layer)**:
        * **功能**: **路由选择**，把**分组**从源主机送到目的主机。
        * **记忆**: **快递总公司**。规划包裹从北京到上海的最佳路线（跨城运输）。使用IP地址（城市街道地址）。
        * **设备**: 路由器 (Router)。
    4.  **传输层 (Transport Layer)**:
        * **功能**: 提供**进程到进程**的通信服务 (端到端)。
        * **记忆**: **快递打包员**。他决定你的包裹是“普通快递”还是“加急保价”。
            * **TCP (可靠的)**: 像顺丰，要电话确认，丢了会赔，保证送到。面向连接。
            * **UDP (不可靠的)**: 像平邮，寄出去就不管了，丢了也没办法。无连接。
        * 使用**端口号**来区分不同进程。
    5.  **应用层 (Application Layer)**:
        * **功能**: 直接为用户提供服务。
        * **记忆**: **你自己**。你决定要寄信 (E-mail, SMTP)，还是要上网看视频 (HTTP)。
        * **协议**: HTTP, FTP, SMTP, DNS ...

* **OSI七层模型 vs TCP/IP四层模型**:
    * **OSI多了两层**:
        * **会话层**: 管理会话，比如视频通话时，什么时候该谁说话。建立同步点（实现断点续传）。
        * **表示层**: “翻译官”。解决数据格式问题，如数据加密、压缩、编码转换。
    * **对应关系**:
        * OSI (应用层, 表示层, 会话层)  <==> TCP/IP (应用层)
        * OSI (传输层) <==> TCP/IP (传输层)
        * OSI (网络层) <==> TCP/IP (网际层)
        * OSI (数据链路层, 物理层) <==> TCP/IP (网络接口层)
    * **核心差异**:
        * OSI是“先有理论，后有实践”，过于理想化，没流行开。
        * TCP/IP是“先有实践，后有理论”，先有了协议再总结出模型，成为事实标准。
        * **服务定义**: OSI在网络层支持虚电路（面向连接）和数据报（无连接）两种服务，而传输层只支持面向连接；TCP/IP则反过来，网络层只支持IP数据报（无连接），而传输层支持TCP（面向连接）和UDP（无连接）两种。**【这一个差异是重要考点】**

---

好了，第一章的核心内容和解题方法都在这里了。大家一定要把交换时延和性能指标的计算题模板牢记在心，多练几道题。对于分层模型，用寄快递的例子去理解，把每一层的功能和代表协议记清楚。下一章我们将进入物理层，继续加油！
</div>
<div style="float: right; width: 26%; padding: 1%;">

</div>
<div style="clear: both;"></div>
